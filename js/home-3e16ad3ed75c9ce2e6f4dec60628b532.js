var Listici={MIN_ULOG:2,MIN_ULOG_LOTO:2,minUlog:function(){return"undefined"!=typeof lotoListicController&&null!=lotoListicController?this.MIN_ULOG_LOTO:this.MIN_ULOG},MAX_ULOG:1e3,ULOG_KVANT:5,DEFAULT_ULOG:5,MAX_PAROVA:30,MAX_KOMBINIRAJUCIH:20,MAX_FIXEVA:28,MAX_DOBITAK:[5e3,8e3,12e3,2e4,28e3,4e4,5e4,8e4,8e4,1e5,12e4,12e4,12e4,15e4,15e4,15e4,15e4,2e5,2e5,2e5,25e4,25e4,25e4,25e4,25e4,3e5,3e5,3e5,3e5,3e5],MAX_DOBITAK_SISTEMI:[0,4e4,75e3,1e5,24e4,45e4,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5],MAX_DOBITAK_LOTO:1e6,Serialization:{},Model:{},View:{},Controller:{}};Listici.Serialization.Cookie={citaj:function(e){return e.fromString(Web.Utils.Cookies.read(e.ID))},spremi:function(e,t){Web.Utils.Cookies.write(e.ID,e.toString(t))}},Listici.Serialization.Listic={ID:"listic.2",toString:function(e){var t="";return e.each(function(e){t.length>0&&(t+="/"),t+=e.ponudaId+" "+e.tip}),t},fromString:function(e){if(null==e||0==e.length)return[];var t=[];return e.split("/").each(function(e){var n=e.split(" ");t.push({ponudaId:parseInt(n[0]),tip:n[1]})}),t}},Listici.Serialization.LotoListic={ID:"LotoListic",toString:function(e){return e.brojevi.join(" ")+"/"+e.odabraneKombinacije.join(" ")},fromString:function(e){if(null==e||0==e.length)return{brojevi:[],odabraneKombinacije:[]};var t=e.split("/");return{brojevi:t[0].toIntArray(),odabraneKombinacije:t[1].toIntArray()}}},Listici.Model.Tecaj=Class.create({initialize:function(e){e=Object.extend(e||{}),Object.extend(this,{broj:"broj",vrijeme:"vrijeme",tip:"-",tecaj:0,dependencyAttr:"",zavisnePonude:"",minUtakmica:0,maxUtakmica:100,dogadjajGrupa:0,grupa:0,maxUlog:0,poredakLiga:0,isFix:!1}),Object.extend(this,e),this.id=this.tecajId,null==this.ponudaId&&(this.ponudaId=this.tecajId),null==this.razradaId&&(this.razradaId=this.tecajId),null==this.dogadjajId&&(this.dogadjajId=this.tecajId),null==this.naziv&&null!=this.opis&&(this.naziv=this.opis)},clone:function(){return Object.clone(this)},toString:function(){return this.broj+" - "+this.tip},promijenjen:function(){return null!=this.stariTecaj&&this.stariTecaj!=this.tecaj&&this.infoMessage},promjenaTecaja:function(){return this.promijenjen()?this.tecaj-this.stariTecaj:0},zavisni:function(e){return this.zavisniPoPonudi(e)||this.zavisniPoDogadjajId(e)||this.zavisniPoZavisnePonude(e)||this.zavisniPoDependencyAttr(e)||this.zavisniPoGrupi(e)},zamjenaOk:function(e){return this.istiDogadjaji(e)&&e.zavisnePonude==this.zavisnePonude&&e.dependencyAttr==this.dependencyAttr&&e.minUtakmica==this.minUtakmica&&e.maxUtakmica==this.maxUtakmica&&e.grupa==this.grupa},zavisniPoGrupi:function(e){return e.grupa!=this.grupa},zavisniPoPonudi:function(e){return e.ponudaId==this.ponudaId},istiDogadjaji:function(e){return(this.baseid||this.dogadjajId)==(e.baseid||e.dogadjajId)},zavisniPoDogadjajId:function(e){return this.istiDogadjaji(e)&&(0==e.dogadjajGrupa||e.dogadjajGrupa!=this.dogadjajGrupa)&&!this.dozvoljenaLiveKombinacijaIstogDogadjaja(e)},dozvoljenaLiveKombinacijaIstogDogadjaja:function(e){return this.live&&e.live&&this.istiDogadjaji(e)&&this.sportRazradaId!=e.sportRazradaId&&this.liveKombiniranje.intersect(e.liveKombiniranje).length>0},liveKombiniranjeMoguce:function(e){if(!this.live||e.id==this.ponudaId)return!0;var t=e.exampleTecaj();return t&&this.istiDogadjaji(t)?this.dozvoljenaLiveKombinacijaIstogDogadjaja(t):!0},zavisniPoZavisnePonude:function(e){var t=-1!=this.zavisnePonude.indexOf(e.dogadjajId.toString())||-1!=this.zavisnePonude.indexOf(e.ponudaId.toString())||-1!=e.zavisnePonude.indexOf(this.dogadjajId.toString())||-1!=e.zavisnePonude.indexOf(this.ponudaId.toString());if(!t&&this.zavisnePonude.length>0&&e.zavisnePonude.length>0)for(var n=this.zavisnePonude.strip().split(";").reject(function(e){return 0==e.length}),i=e.zavisnePonude.strip().split(";").reject(function(e){return 0==e.length}),o=0;o<n.length;o++)if(i.include(n[o]))return!0;return t},zavisniPoDependencyAttr:function(e){var t=e.dependencyAttr,n=this.dependencyAttr;if(""!=t&&""!=n){if(6==t.length&&6==n.length&&t.slice(0,2)==n.slice(0,2)&&(t.slice(2,4)==n.slice(2,4)||t.slice(4,6)==n.slice(4,6)))return!0;if(4==t.length&&4==n.length&&t.slice(0,2)==n.slice(0,2)&&(t.slice(2,3)==n.slice(2,3)||t.slice(3,4)==n.slice(3,4)))return!0}return!1},hasMessage:function(){return!!(this.errorMessage||this.infoMessage||this.flashMessage)},hasError:function(){return null!=this.errorMessage},hasInfo:function(){return!this.errorMessage&&!!this.infoMessage},message:function(){return this.errorMessage||this.infoMessage}}),Web.Controller.Home=Class.create({showListicTjedna:function(e){Web.Common.LayoutHelper.wait(),this.enableListicImage(e),Web.Utils.ImageLoader.loadImagesToElements(this.fixAssetsUrls([e]),function(){Web.Common.LayoutHelper.enable(),Web.Common.LayoutHelper.centerInViewPort("listicTjednaContainer",{disable:!0})})},showTjednik:function(){Web.Common.LayoutHelper.wait(),Web.Utils.ImageLoader.loadImagesToElements(this.fixAssetsUrls(["tjednikNaslovnica"]),function(){Web.Common.LayoutHelper.enable(),Web.Common.LayoutHelper.centerInViewPort("tjednikNaslovnicaContainer",{disable:!0})})},fixAssetsUrls:function(e){return e.each(function(e){var t=$(e),n=t.getAttribute("url");n=n.gsub("http:",location.protocol).gsub("https:",location.protocol),t.setAttribute("url",n)}),e},enableListicImage:function(e){$("listic1").setStyle({display:"none"}),$("listic2").setStyle({display:"none"}),$("listic3").setStyle({display:"none"}),$("listic4").setStyle({display:"none"}),$(e).setStyle({display:"block"})}}),Web.Controller.homeController=new Web.Controller.Home;